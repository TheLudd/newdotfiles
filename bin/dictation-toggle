#!/bin/sh
# Toggle nerd-dictation on/off with visual indicator for status bar

if pgrep -f "[n]erd-dictation begin" > /dev/null; then
    nerd-dictation end
    sleep 0.3
else
    nerd-dictation begin \
        --vosk-model-dir "/home/ludwig/.config/nerd-dictation/models/vosk-model-small-en-us-0.15" &
    sleep 0.2
fi

# Signal dwmblocks to update dictation status
pkill -RTMIN+7 dwmblocks
